{% comment %}
  ✅ Zenmies — Cora Launch Kit
  Refined responsive section with:
  • Left product image
  • Right structured feature list
  • Proper price alignment & Free badges
  • CTA button at bottom
{% endcomment %}

<section id="cora-launch-kit-{{ section.id }}" class="cora-launch-kit">
  <div class="container launchKit">
    {% if section.settings.heading != blank %}
      <h2 class="cora-lk__heading zhead style="color: {{ section.settings.heading_color }};">
        {{ section.settings.heading }}
      </h2>
    {% endif %}

    <div class="cora-lk__grid">
      {% if section.settings.left_image %}
        <div class="cora-lk__media">
          <img
            src="{{ section.settings.left_image | image_url: width: 900 }}"
            alt="{{ section.settings.left_image_alt | escape }}"
            loading="lazy"
            height="100%"
            width="100%"
          >
        </div>
      {% endif %}

      <div class="cora-lk__content">
        {% if section.settings.watermark %}
          <div
            class="cora-lk__watermark"
            style="
              --wm-opacity: {{ section.settings.watermark_opacity | default: 0.1 }};
              background-image: url('{{ section.settings.watermark | image_url: width: 1000 }}');
            "
          ></div>
        {% endif %}

        <ul
          class="cora-lk__list"
          style="
            --bullet: {{ section.settings.bullet_color }};
            --title: {{ section.settings.item_color }};
            --price: {{ section.settings.price_color }};
            --free-bg: {{ section.settings.free_bg }};
            --free-fg: {{ section.settings.free_fg }};
          "
        >
          {% for block in section.blocks %}
            {% if block.type == 'item' %}
              <li class="cora-lk__item zbody" {{ block.shopify_attributes }}>
                <span class="cora-lk__dot"></span>
                <span class="cora-lk__title zbody">{{ block.settings.label }}</span>

                <span class="cora-lk__price zbody">
                  {% if block.settings.original_price != blank %}
                    <s>{{ block.settings.original_price }}</s>
                  {% endif %}
                  {% if block.settings.price != blank %}
                    {{ block.settings.price }}
                  {% endif %}
                  {% if block.settings.show_free %}
                    <span class="cora-lk__free zbody">{{ block.settings.free_text }}</span>
                  {% endif %}
                </span>
              </li>
            {% endif %}
          {% endfor %}
        </ul>

        {% if section.settings.cta_label %}
          <div class="cora-lk__cta">
            <a
              href="{{ section.settings.cta_url | default: '#' }}"
              class="cora-lk__btn"
              style="
                --cta-bg: {{ section.settings.cta_bg }};
                --cta-fg: {{ section.settings.cta_fg }};
              "
            >
              {{ section.settings.cta_label }}
            </a>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</section>

{{ 'cora-launch-kit.css' | asset_url | stylesheet_tag }}

{% schema %}
{
  "name": "Cora Launch Kit",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Your Launch Kit Includes:" },
    { "type": "color", "id": "heading_color", "label": "Heading Color", "default": "#160E26" },
    { "type": "image_picker", "id": "left_image", "label": "Left Image" },
    { "type": "text", "id": "left_image_alt", "label": "Left Image Alt", "default": "Launch Kit" },
    { "type": "image_picker", "id": "watermark", "label": "Watermark (behind list)" },
    {
      "type": "range",
      "id": "watermark_opacity",
      "label": "Watermark Opacity",
      "min": 0,
      "max": 1,
      "step": 0.1,
      "default": 0.1
    },

    { "type": "color", "id": "bullet_color", "label": "Bullet Color", "default": "#6B45E6" },
    { "type": "color", "id": "item_color", "label": "Item Text Color", "default": "#3C3847" },
    { "type": "color", "id": "price_color", "label": "Price Text Color", "default": "#160E26" },
    { "type": "color", "id": "free_bg", "label": "Free Badge BG", "default": "#160E26" },
    { "type": "color", "id": "free_fg", "label": "Free Badge Text", "default": "#FFFFFF" },
    { "type": "text", "id": "cta_label", "label": "CTA Label", "default": "TRY IT NOW" },
    { "type": "url", "id": "cta_url", "label": "CTA Link" },
    { "type": "color", "id": "cta_bg", "label": "CTA Background", "default": "#160E26" },
    { "type": "color", "id": "cta_fg", "label": "CTA Text", "default": "#FFFFFF" }
  ],
  "blocks": [
    {
      "type": "item",
      "name": "Line Item",
      "settings": [
        { "type": "text", "id": "label", "label": "Item Label", "default": "Cure Natural T Support" },
        { "type": "text", "id": "original_price", "label": "Original Price", "default": "$118" },
        { "type": "text", "id": "price", "label": "Current Price", "default": "$59/mo" },
        { "type": "checkbox", "id": "show_free", "label": "Show Free Badge", "default": false },
        { "type": "text", "id": "free_text", "label": "Free Text", "default": "Free" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Cora Launch Kit",
      "category": "Zenmies"
    }
  ]
}
{% endschema %}
