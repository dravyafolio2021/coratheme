<footer id="cora-footer" class="cora-footer" role="contentinfo">
  <div class="cora-footer__container container">
    <!-- Left Column -->
    <div class="cora-footer__left">
      <div class="cora-footer__brand">
        <h2 class="cora-footer__logo">{%- render 'icon-logo' -%}</h2>

        <div class="cora-footer__socials">
          {% if section.settings.social_facebook != blank %}
            <a href="{{ section.settings.social_facebook }}" target="_blank" aria-label="Facebook" class="social-icon">
              {%- render 'icon-facebook' -%}
            </a>
          {% endif %}
          {% if section.settings.social_twitter != blank %}
            <a href="{{ section.settings.social_twitter }}" target="_blank" aria-label="Twitter" class="social-icon">
              {%- render 'icon-x' -%}
            </a>
          {% endif %}
          {% if section.settings.social_instagram != blank %}
            <a
              href="{{ section.settings.social_instagram }}"
              target="_blank"
              aria-label="Instagram"
              class="social-icon"
            >
              {%- render 'icon-instagram' -%}
            </a>
          {% endif %}
          {% if section.settings.social_linkedin != blank %}
            <a href="{{ section.settings.social_linkedin }}" target="_blank" aria-label="LinkedIn" class="social-icon">
              {%- render 'icon-linkedin' -%}
            </a>
          {% endif %}
        </div>

        <p class="cora-footer__mission">{{ section.settings.mission_text }}</p>

        {% comment %}
          <div class="cora-footer__trust">
            <img
              src="{{ section.settings.logo_flex | img_url: '100x' }}"
              alt="Flex Logo"
              class="trust-logo"
              loading="lazy" width="100%" height="100%"
            >
            <img
              src="{{ section.settings.logo_hsa | img_url: '100x' }}"
              alt="HSA/FSA Eligible"
              class="trust-logo"
              loading="lazy" width="100%" height="100%"
            >
          </div>
        {% endcomment %}
      </div>
    </div>

    <!-- Right Navigation Columns -->
    <div class="cora-footer__right">
      {% for block in section.blocks %}
        <div class="cora-footer__column">
          {% if block.settings.heading %}
            <h3 class="cora-footer__column-heading">{{ block.settings.heading }}</h3>
          {% endif %}
          <ul class="cora-footer__links">
            {% for link in block.settings.links %}
              <li>
                <a href="{{ link.url }}" class="cora-footer__link">{{ link.title }}</a>
              </li>
            {% endfor %}
          </ul>
        </div>
      {% endfor %}
    </div>
  </div>

  <!-- Bottom Bar -->
  <div class="cora-footer__bottom">
    <div class="cora-footer__payments">
      {% for image in section.settings.payment_icons %}
        <img
          src="{{ image | img_url: '60x' }}"
          width="100%"
          height="100%"
          alt="Payment Icon"
          class="payment-icon"
          loading="lazy"
        >
      {% endfor %}
    </div>

    <div class="cora-footer__legal">
      <p>© {{ 'now' | date: '%Y' }} — {{ section.settings.brand_name }}. All Rights Reserved.</p>
      <div class="cora-footer__policies">
        <a href="{{ section.settings.privacy_policy_url }}">Privacy Policy</a>
        <a href="{{ section.settings.refund_policy_url }}">Refund Policy</a>
        <a href="{{ section.settings.terms_url }}">User Terms</a>
      </div>
    </div>
  </div>
</footer>

{{ 'cora-footer.css' | asset_url | stylesheet_tag }}

{% schema %}
{
  "name": "Cora Footer",
  "settings": [
    {
      "type": "textarea",
      "id": "mission_text",
      "label": "Mission Text",
      "default": "Bringing the latest advancements in enhanced red light therapy for home use. Our mission is to get you back on your feet and moving pain-free."
    },
    { "type": "image_picker", "id": "payment_icons", "label": "Payment Icons (multi-upload supported)" },
    { "type": "url", "id": "privacy_policy_url", "label": "Privacy Policy Link" },
    { "type": "url", "id": "refund_policy_url", "label": "Refund Policy Link" },
    { "type": "url", "id": "terms_url", "label": "User Terms Link" }
  ],
  "blocks": [
    {
      "type": "column",
      "name": "Link Column",
      "settings": [
        { "type": "text", "id": "heading", "label": "Column Heading", "default": "SHOP" },
        { "type": "link_list", "id": "links", "label": "Select Menu" }
      ]
    }
  ],
  "presets": [{ "name": "Cora Footer", "category": "Cora Custom Sections" }]
}
{% endschema %}
