{%- comment -%}
===============================================================================
ðŸ§© Cora Product Info Section â€” Cora v1.0.1
-------------------------------------------------------------------------------
Purpose:
  Compact, centered content block to introduce the product with an eyebrow,
  gradient-capable heading, short description, product image, and CTA.

Key behaviors:
  - Uses [highlight]...[/highlight] shortcode inside heading to apply gradient.
  - Desktop CTA is under the text; an additional mobile CTA appears below image.
  - Fully responsive with mobile-first tokens (spacing, typography, colors).
  - Images include explicit width/height attributes for CLS prevention.

Implementation notes:
  - Keep schema IDs stable to avoid merchant data loss on updates.
  - Button URLs default handled at template-level; here we assume links are set.
  - Uses global tokens (colors, gradients) defined in /assets/global.css.
===============================================================================
{%- endcomment -%}

<section id="cora-product-info" class="cora-product-info" role="region" aria-label="Product Overview">
  <div class="cora-product-info__inner container">

    {%- comment -%} =========================
      TEXT BLOCK: eyebrow + heading + description + (desktop) CTA
      - Uses a single cluster to keep spacing consistent via flex + gap.
    ========================== {%- endcomment -%}
    <div class="cora-product-info__text-block">
      {%- if section.settings.subheading != blank -%}
        <p class="cora-product-info__subheading">{{ section.settings.subheading }}</p>
      {%- endif -%}

      {%- if section.settings.heading != blank or section.settings.description != blank -%}
        <div class="cora-product-info__text-group">
          {%- if section.settings.heading != blank -%}
            <h2 class="cora-product-info__heading">
              {{
                section.settings.heading
                | replace: '[highlight]', '<span class="highlight">'
                | replace: '[/highlight]', '</span>'
              }}
            </h2>
          {%- endif -%}

          {%- if section.settings.description != blank -%}
            <p class="cora-product-info__description">{{ section.settings.description }}</p>
          {%- endif -%}
        </div>
      {%- endif -%}

      {%- comment -%}
        Desktop-first CTA.
        Mobile shows a second CTA below the image (see _cta-wrap_mobile).
      {%- endcomment -%}
      {%- if section.settings.cta_label != blank -%}
        <div class="cora-product-info__cta-wrap">
          <a href="{{ section.settings.cta_url }}" class="btn cora-btn cora-btn--primary">
            {{ section.settings.cta_label }}
            <span class="arrow">{% render 'icon-chevron' %}</span>
          </a>
        </div>
      {%- endif -%}
    </div>

    {%- comment -%} =========================
      PRODUCT IMAGE + (mobile) CTA
      - Image clustered separately for layout control.
      - Mobile CTA is duplicated intentionally for UX parity.
    ========================== {%- endcomment -%}
    {%- if section.settings.product_image -%}
      <div class="cora-product-info__image-wrap">
        <img
          src="{{ section.settings.product_image | img_url: 'master' }}"
          alt="{{ section.settings.product_image_alt | escape }}"
          loading="lazy"
          class="cora-product-info__image"
          width="100%"
          height="100%"
        >
      </div>

      {%- if section.settings.cta_label != blank -%}
        <div class="cora-product-info__cta-wrap_mobile">
          <a href="{{ section.settings.cta_url }}" class="btn cora-btn cora-btn--primary">
            {{ section.settings.cta_label }}
            <span class="arrow">{% render 'icon-chevron' %}</span>
          </a>
        </div>
      {%- endif -%}
    {%- endif -%}
  </div>
</section>

{%- comment -%}
  External stylesheet for this section. Keep this include at the bottom of the
  section for predictable cascade and easy diffing during code reviews.
{%- endcomment -%}
{{ 'cora-product-info.css' | asset_url | stylesheet_tag }}

{%- comment -%}
===============================================================================
  SCHEMA â€” Cora Product Info
  - Keep IDs stable; avoid renaming existing IDs in shipped versions.
  - Presets make it discoverable in Theme Editor under "Cora Custom Sections".
===============================================================================
{%- endcomment -%}
{% schema %}
{
  "name": "Cora Product Info",
  "settings": [
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "WHAT IS RED LIGHT THERAPY?"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Main Heading",
      "default": "What is the [highlight]MOVE+ Pro?[/highlight]"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "The MOVE+ is a clinically backed red light therapy device that uses LED and laser technology to relieve joint pain, reduce inflammation, and improve mobility."
    },
    {
      "type": "image_picker",
      "id": "product_image",
      "label": "Product Image"
    },
    {
      "type": "text",
      "id": "product_image_alt",
      "label": "Image Alt Text",
      "default": "MOVE+ Pro red light therapy device"
    },
    {
      "type": "text",
      "id": "cta_label",
      "label": "Button Label",
      "default": "BUY NOW"
    },
    {
      "type": "url",
      "id": "cta_url",
      "label": "Button Link"
    }
  ],
  "presets": [
    {
      "name": "Cora Product Info",
      "category": "Cora Custom Sections"
    }
  ]
}
{% endschema %}
