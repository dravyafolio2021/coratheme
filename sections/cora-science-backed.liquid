{%- comment -%}
===============================================================================
ðŸ§© Cora Science Healing â€” Section (Cora v1.0.1)
-------------------------------------------------------------------------------
Purpose
  Split layout: product/therapy image visually anchored to the left (desktop),
  explanatory copy and CTA on the right. Stacks for mobile/tablet.

Key Behaviors
  â€¢ Desktop: image is absolutely positioned to the left, content right-aligned.
  â€¢ Tablet/Mobile: image moves into normal flow, centered, edge-to-edge (no x-scroll).
  â€¢ Heading supports [highlight]...[/highlight] which receives gradient text.
  â€¢ Button is a standard Cora primary CTA (uses global tokens).

A11y
  â€¢ <section> has a region role + aria-label for landmark navigation.
  â€¢ Descriptive alt text is configurable.
  â€¢ Heading level (h2) is appropriate for in-page sections.

Dependencies
  â€¢ /assets/global.css for tokens (colors, gradients, spacing).
  â€¢ /snippets/icon-chevron.liquid for the CTA arrow.
===============================================================================
{%- endcomment -%}

<section id="cora-science-healing" class="cora-science-healing" role="region" aria-label="Science Backed Healing">
  <div class="cora-science-healing__inner container">
    {%- comment -%} â– â– â–  Left Visual Column (image) {%- endcomment -%}
    {% if section.settings.image %}
      <div class="cora-science-healing__image-wrap">
        <img
          src="{{ section.settings.image | img_url: 'master' }}"
          alt="{{ section.settings.image_alt | escape }}"
          class="cora-science-healing__image"
          loading="lazy"
          width="{{ section.settings.image.width }}"
          height="{{ section.settings.image.height }}"
        >
      </div>
    {% endif %}

    {%- comment -%} â– â– â–  Right Content Column (subheading, heading, description, CTA) {%- endcomment -%}
    <div class="cora-science-healing__content">
      {% if section.settings.subheading != blank %}
        <p class="cora-science-healing__subheading">{{ section.settings.subheading }}</p>
      {% endif %}

      {% if section.settings.heading != blank %}
        <h2 class="cora-science-healing__heading">
          {{
            section.settings.heading
            | replace: '[highlight]', '<span class="highlight">'
            | replace: '[/highlight]', '</span>'
          }}
        </h2>
      {% endif %}

      {% if section.settings.description != blank %}
        <div class="cora-science-healing__description">
          {{ section.settings.description }}
        </div>
      {% endif %}

      {% if section.settings.cta_label != blank %}
        <a href="{{ section.settings.cta_url }}" class="btn cora-btn cora-btn--primary">
          {{ section.settings.cta_label }}
          <span class="arrow">{% render 'icon-chevron' %}</span>
        </a>
      {% endif %}
    </div>
  </div>
</section>

{%- comment -%} Keep stylesheet include at bottom for predictable cascade {%- endcomment -%}
{{ 'cora-science-backed.css' | asset_url | stylesheet_tag }}

{%- comment -%}
===============================================================================
SCHEMA â€” Keep IDs stable to avoid breaking merchant content.
===============================================================================
{%- endcomment -%}
{% schema %}
{
  "name": "Cora Science Healing",
  "settings": [
    { "type": "image_picker", "id": "image", "label": "Left Image" },
    {
      "type": "text",
      "id": "image_alt",
      "label": "Image Alt Text",
      "default": "MOVE+ Pro red light therapy device close-up"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "WHAT IS RED LIGHT THERAPY?"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Main Heading",
      "default": " [highlight]Science-Backed[/highlight] Healing"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Light therapy is a powerful, science-backed treatment that uses specific wavelengths of red and near-infrared light to activate your bodyâ€™s natural healing response.</p><p>When absorbed into the body, these wavelengths energize the mitochondria â€” the powerhouses of your cells â€” boosting cellular function, improving blood flow, and helping your body repair itself faster.</p>"
    },
    {
      "type": "text",
      "id": "cta_label",
      "label": "Button Label",
      "default": "BUY NOW"
    },
    { "type": "url", "id": "cta_url", "label": "Button Link" }
  ],
  "presets": [{ "name": "Cora Science Healing", "category": "Cora Custom Sections" }]
}
{% endschema %}
