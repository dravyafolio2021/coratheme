{% comment %}
  âœ… Cora Video Testimonials (Zenmies)
  A responsive grid for video-based testimonials with background image & overlay.
{% endcomment %}

<section
  id="cora-video-testimonials-{{ section.id }}"
  class="cora-video-testimonials"
  style="
     
  "
 >
  {% if section.settings.overlay_color != blank %}
    <div
      class="cora-video__overlay"
      style="background: {{ section.settings.overlay_color }};"
    ></div>
  {% endif %}

  <div class="cora-video__inner">
    <!-- Heading -->
    {% if section.settings.heading != blank %}
      {% assign words = section.settings.heading | split: ' ' %}
      {% assign last_word = words | last %}
      {% assign first_part = section.settings.heading | remove_last: last_word | strip %}

      <h2 class="cora-video__heading zhead" style="color: {{ section.settings.heading_color }};">
        {{ first_part }}
        <span style="color: {{ section.settings.accent_color }};">{{ last_word }}</span>
      </h2>
    {% endif %}

    <!-- Video Cards -->
    <div class="cora-video__grid">
      {% for block in section.blocks %}
        {% if block.type == 'video_card' %}
          <div class="cora-video__card">
            <div
              class="cora-video__media"
              style="background-image: url('{{ block.settings.image | image_url: width: 800 }}');"
            >
              {% if block.settings.video_url != blank %}
                <a href="{{ block.settings.video_url }}" class="cora-video__play" aria-label="Play Video">
                  <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="12" fill="white"/>
                    <path d="M9.5 7.5L16.5 12L9.5 16.5V7.5Z" fill="{{ section.settings.play_icon_color }}"/>
                  </svg>
                </a>
              {% endif %}
              {% if block.settings.top_label != blank %}
                <span
                  class="cora-video__label"
                  style="background: {{ section.settings.label_bg }}; color: {{ section.settings.label_color }};"
                >
                  {{ block.settings.top_label }}
                </span>
              {% endif %}
              <div class="cora-video__bottom">
                {% if block.settings.bottom_text != blank %}
                  <p class="cora-video__bottom-text" style="color: {{ section.settings.bottom_color }};">
                    {{ block.settings.bottom_text }}
                  </p>
                {% endif %}
              </div>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>
<style>
  #shopify-section-{{ section.id }} {
    background-color: {{ section.settings.parent_bg_color }};
    {% if section.settings.parent_bg_image != blank %}
      background-image: url('{{ section.settings.parent_bg_image | image_url: width: 1600 }}');
      background-size: {{ section.settings.parent_bg_size }};
      background-repeat: {{ section.settings.parent_bg_repeat }};
      background-position: {{ section.settings.parent_bg_position }};
    {% endif %}
  }
</style>

{{ 'cora-video-testimonials.css' | asset_url | stylesheet_tag }}

{% schema %}
{
  "name": "Cora Video Testimonial ",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "4 Reasons Why Men Love [highlight]Zenmies[/highlight]"
    },
    {
      "type": "color",
      "id": "parent_bg_color",
      "label": "Parent Background Color",
      "default": "#f9f8fc"
    },{
  "type": "image_picker",
  "id": "parent_bg_image",
  "label": "Parent Background Image"
},
{
  "type": "select",
  "id": "parent_bg_size",
  "label": "Background Size",
  "default": "cover",
  "options": [
    { "value": "cover", "label": "Cover" },
    { "value": "contain", "label": "Contain" },
    { "value": "auto", "label": "Auto" }
  ]
},
{
  "type": "select",
  "id": "parent_bg_repeat",
  "label": "Background Repeat",
  "default": "no-repeat",
  "options": [
    { "value": "no-repeat", "label": "No Repeat" },
    { "value": "repeat", "label": "Repeat" },
    { "value": "repeat-x", "label": "Repeat X" },
    { "value": "repeat-y", "label": "Repeat Y" }
  ]
},
{
  "type": "select",
  "id": "parent_bg_position",
  "label": "Background Position",
  "default": "center center",
  "options": [
    { "value": "center center", "label": "Center" },
    { "value": "top center", "label": "Top" },
    { "value": "bottom center", "label": "Bottom" },
    { "value": "left center", "label": "Left" },
    { "value": "right center", "label": "Right" }
  ]
},
    { "type": "color", "id": "heading_color", "label": "Heading Color", "default": "#160e26" },
    { "type": "color", "id": "highlight_color", "label": "Highlight Color", "default": "#6b45e6" },
    { "type": "color", "id": "accent_color", "label": "Accent Color", "default": "#6B45E6" },

    { "type": "color", "id": "bg_color", "label": "Background Color", "default": "#f9f8fc" },
    {
      "type": "color",
      "id": "overlay_color",
      "label": "Overlay Color (use rgba for transparency)",
      "default": "rgba(255,255,255,0.0)"
    },

    { "type": "color", "id": "label_bg", "label": "Label Background", "default": "#6b45e6" },
    { "type": "color", "id": "label_color", "label": "Label Text Color", "default": "#ffffff" },
    { "type": "color", "id": "bottom_color", "label": "Bottom Text Color", "default": "#ffffff" },
    { "type": "color", "id": "play_icon_color", "label": "Play Icon Color", "default": "#6b45e6" }
  ],
  "blocks": [
    {
      "type": "video_card",
      "name": "Video Card",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Background Image" },
        { "type": "url", "id": "video_url", "label": "Video Link (YouTube, Vimeo, or MP4 URL)" },
        { "type": "text", "id": "top_label", "label": "Top Label", "default": "RESULTS" },
        { "type": "text", "id": "bottom_text", "label": "Bottom Text", "default": "Muscle Mass" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Cora Video Testimonials ",
      "category": "Zenmies",
      "blocks": [{ "type": "video_card" }, { "type": "video_card" }, { "type": "video_card" }, { "type": "video_card" }]
    }
  ]
}
{% endschema %}
